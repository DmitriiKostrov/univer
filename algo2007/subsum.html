<html>
	<head>
		<title>SubSum</title>
	</head>
	<body alink=#33ff33>
		<div>
			<p><strong>Постановка задачи</strong>
			</p>
			<dir>
			<p>SubSum<br>
				Дано: Множество целых чисел <i>S</i>, натуральное <i>n</i>, целое <i>k</i> <br>
				Вопрос: существует ли подмножество <i>S'</i> множества <i>S</i> мощности <i>n</i>, 
				такое что сумма всех элементов S' равняется k?
				<br>
				Задача имеет параметр <i>k</i> и параметр n.
			</dir>
			</p>

    		<p>&nbsp;</p>
			
			<p><strong>Описание решения</strong>
			</p>
			
			<p></SPAN></p>
			<p>
			<dir>
			    <i>Метод решения задачи</i>:<br>
			        Постепенное накапливаем возможные подмножества множества S<br>
			        Сначало накапливаются подмножества из 2-х элементов, затем из 3-х путём добавления к предыдущим<br>
			        одного элемента и так далее, пока количество элементов в сумме не станет равно k.<br>
			        Сначало берётся первый элемент и к нему добавляются по очереди все остальные, затем ко второму все,<br>
			        кроме него самого и первого, и так далее. <br><br>
			     <i>Основной принцип работы программы:</i><br>
			     В связи с больщими затратами памяти по хранению накопленных подмножеств, они хранятся в 2 файлах на жестком диске<br>
			     в виде последовательности номеров позиций чисел в начальном множестве. В начале файла хранится количество<br>
			     элементов в подмножествах.<br>
    			 <br>
			     Для хранения создаем два backup файла. Сначало элементы из файла данных записываются в массив. Так же записываются<br>
			     в первый файл. Затем начинается перебор возможных пар и запись их во второй файл. Далее информация читается из<br> 
			     второго файла, а возможные тройки записываются в первый файл. И так далее.<br>
			     Получив требуемое количество элементов в суммах, выбираем их из файлов и считаем суммы, сравнивая с k.<br>
			     В конце backup файлы обнуляются.<br>
                 <br><i>Что было сделано для ускорения работы:</i><br>
			      Быстрое вычисление очередной последовательности сумм по предыдущей(добавляются лишь элементы,<br>
			     чьи индексы больше последнего элемента предыдущего подмножества(этот индекс наибольший в подмножестве по алгоритму))<br>
                    <br>
			     <i>Возможность продолжения работы программы после её непредвиденного останова:</i><br> 
			     Если backup файлы не обнулены, программа берёт данные из них и продолжает работать, не начиная с начала.<br>
    			 <br>
			     <i>Итог:</i> сложность алгоритма порядка O(Sum(C(|S|,i))*k), где 0 < i <= k
		</dir>
		</p>
			<p><strong>Вычислительные затраты: </strong>  
			</p>
			<dir>
			       <table color="orange">
			        <tr><th>  |S|  </th><th>  n  </th><th>  time(sec)  </th></tr>
			        <tr><td>25</td><td>1</td><td>1</td></tr>
			        <tr><td>25</td><td>5</td><td>4</td></tr>
			        <tr><td>40</td><td>5</td><td>21</td></tr>
			        <tr><td>25</td><td>8</td><td>178</td></tr>
			        <tr><td>25</td><td>10</td><td>783</td></tr>
			        <tr><td>25</td><td>11</td><td>1528</td></tr>
			        <tr><td>25</td><td>12</td><td>2329</td></tr>
			        <tr><td>40</td><td>10</td><td>17990</td></tr>
			       </table>
			</dir>	
			</p>
			<p><strong>Формирование тестового набора: </strong>  
			</p>
			<dir>
		        В связи с большими временными затратами и затратами по памяти, а также ни на что не влияющие 
		        значения элементов, входящих в множество S, для тестирования достаточно набора из 40 произвольных
		        чисел целого типа, используемого в программе(short).
				<p>Исходные тексты: 
				</p>

				<p><strong><a href="subsum.exe">Программа SubSum</a></strong></p>
				<p><strong><a href="subsum.cpp">Исходный код программы SubSum</a></strong></p>
			</dir>
									
				<p align="right" style='TEXT-ALIGN:right'><FONT color="#33ff99" size="2">Сделано </FONT>
				<a href="mailto:radamsa@e1.ru"><FONT color="#33ff99" size="2">Костров Дмитрий</FONT></a><FONT color="#33ff99"><FONT size="2">
						в 2007 году.<br>
				</SPAN></FONT></FONT></p>
		</div>
	</body>
</html>
